(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48912f66"],{2273:function(e,t,s){},"7d3d":function(e,t,s){"use strict";s("2273")},a55b:function(e,t,s){"use strict";s.r(t);var a=s("7a23"),o=Object(a["withScopeId"])("data-v-2b168b28");Object(a["pushScopeId"])("data-v-2b168b28");var n=Object(a["createVNode"])("header",{class:"banner mt-navbar d-flex justify-content-center align-items-center"},[Object(a["createVNode"])("div",{class:"text-white bg-img-transparent rounded p-2"},[Object(a["createVNode"])("h2",{class:"text-center fz-2 fz-md-4"},"會員登入"),Object(a["createVNode"])("p",{class:"fz-0 fz-md-1"},"人生須知負責任的苦處，才能知道盡責任的樂趣。")])],-1),r={class:"mt-5"},c={class:"container rounded bg-light"},i={class:"row"},u=Object(a["createVNode"])("img",{class:"col-6 d-none d-md-block",src:"https://storage.googleapis.com/vue-course-api.appspot.com/sim322on/1627379482361.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=k4X8vbeMvFFpSiehNH6tYQVcTHx6m2%2B5V%2FA45OXAzAiN5K7HP8ol8Bch9COURdKQhPXRtNOL9%2FSAOvHfBrrvVWTs0gpb8WF2cdcuQWInmadjJGhcUZdr70krygrBEWThLlznLAsM35L4xaVoRGB242l7s%2BDZnNuQvtNaWt3j8YGfc9VRtySLbtrI1uPRXGxgF8KwMN9ZZoTNLYfTXVd1SLQvkrx%2FC%2Fzb3JFla7QVynfaQoU4pl26agIhvZZhUmxhY5WXpZeQmaQZ1gKNSQYyVr%2BtXXJRnvXVabJVP14OF366jBZ6kKbDg81wrsI6GbjRBFMC23d9CkIPf3WQ4Ndo4Q%3D%3D",alt:"login-img"},null,-1),l={class:"col-md-6"};Object(a["popScopeId"])();var d=o((function(e,t,s,o,d,p){var m=Object(a["resolveComponent"])("Login",!0);return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[n,Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",c,[Object(a["createVNode"])("div",i,[u,Object(a["createVNode"])("div",l,[Object(a["createVNode"])(m,{ref:"Login",onLoginEmit:p.getLoginEmitData,statusprompt:d.statusPromptLogin,"statu-bool":d.statuBoolLogin,"login-in-fall-or-success":d.loginInFallOrSuccess,"chk-menu":d.chkMenu},null,8,["onLoginEmit","statusprompt","statu-bool","login-in-fall-or-success","chk-menu"])])])])])],64)})),p=(s("99af"),s("ac1f"),s("1276"),{class:"form-floating mb-3"}),m={key:0,class:"text-center fs-3"},g={class:"form-floating mb-3"},h=Object(a["createVNode"])("label",{for:"login-username"},"Email address",-1),b={class:"form-floating"},f=Object(a["createVNode"])("label",{for:"login-password"},"Password",-1),w=Object(a["createVNode"])("button",{class:"btn btn-lg btn-success w-100 mt-90",id:"btn-form",type:"submit"}," 登入 ",-1);function O(e,t,s,o,n,r){var c=Object(a["resolveComponent"])("Field"),i=Object(a["resolveComponent"])("ErrorMessage"),u=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createBlock"])(u,{class:"form-signin",ref:"loginForm",onSubmit:r.sendData},{default:Object(a["withCtx"])((function(e){var o=e.errors;return[Object(a["createVNode"])("div",p,[n.showStatus?(Object(a["openBlock"])(),Object(a["createBlock"])("div",m,Object(a["toDisplayString"])(n.statusPrompt),1)):(Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:1,class:["text-center",s.statuBool?"alert alert-success":"alert alert-danger"]},Object(a["toDisplayString"])(s.statusprompt),3))]),Object(a["createVNode"])("div",g,[Object(a["createVNode"])(c,{type:"email",class:["form-control",{"is-invalid":o["信箱"]}],id:"login-username",placeholder:"name@example.com",name:"信箱",rules:r.isEmail,modelValue:n.username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.username=e})},null,8,["class","rules","modelValue"]),Object(a["createVNode"])(i,{name:"信箱",class:"invalid-feedback"}),h]),Object(a["createVNode"])("div",b,[Object(a["createVNode"])(c,{type:"password",class:["form-control",{"is-invalid":o["密碼"]}],id:"login-password",placeholder:"Password",name:"密碼",rules:"required",modelValue:n.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.password=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(i,{name:"密碼",class:"invalid-feedback"}),f]),w]})),_:1},8,["onSubmit"])}var v={emits:["login-emit"],props:["statusprompt","statuBool","loginInFallOrSuccess"],data:function(){return{user:{},statusPrompt:"帳號登入",showStatus:!0,username:"",password:""}},methods:{sendData:function(){this.showStatus=!0;var e={username:this.username,password:this.password};this.$emit("login-emit",e)},isEmail:function(e){var t=/^([a-zA-Z0-9_.\-+])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return!!t.test(e)||"需要輸入正確的信箱"}},watch:{loginInFallOrSuccess:function(){this.showStatus=this.statuBool}}};v.render=O;var S=v,j={components:{Login:S},data:function(){return{username:"",password:"",passwordRepit:"",statusPromptSignup:"",statusPromptLogin:"",statuBoolSignup:"",statuBoolLogin:"",signUpFallOrSuccess:"",loginInFallOrSuccess:"",chkMenu:""}},methods:{login:function(){var e=this,t=/^([a-zA-Z0-9_.\-+])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,s={username:this.username,password:this.password};""!==this.username&&t.test(this.username)&&""!==this.password?this.$http.post("".concat("https://vue3-course-api.hexschool.io","/admin/signin"),s).then((function(t){if(t.data.success){var s=[t.data.token,t.data.expired],a=s[0],o=s[1];e.statusPromptLogin="".concat(t.data.message,"!!"),e.statuBoolLogin=!0,document.cookie="hexToken=".concat(a,";\n                expires=").concat(new Date(1e3*o),";\n                username=").concat(e.username),document.cookie="username=".concat(e.username.split("@")[0],";\n                expires=").concat(new Date(1e3*o),";"),document.cookie="email=".concat(t.config.data.split('"')[3],";\n                expires=").concat(new Date(1e3*o),";"),e.$router.push("/admin"),e.loginInFallOrSuccess=new Date}else e.password="",e.statusPromptLogin="".concat(t.data.message,"!!請檢查帳號密碼!"),e.statuBoolLogin=!1,e.loginInFallOrSuccess=new Date})).catch((function(t){e.statusPromptLogin="".concat(t.data.message,"!!請檢查帳號密碼!"),e.statuBoolLogin=!1,e.loginInFallOrSuccess=new Date})):(this.username="",this.password="",this.statusPromptLogin="帳號密碼錯誤!",this.statuBoolLogin=!1,this.loginInFallOrSuccess=new Date)},getLoginEmitData:function(e){this.username=e.username,this.password=e.password,this.login()},signup:function(){var e=this,t=/^([a-zA-Z0-9_.\-+])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,s={username:this.username,password:this.password,confirm_password:this.passwordRepit};if(""!==this.username&&t.test(this.username)&&""!==this.password&&""!==this.passwordRepit){var a="".concat("https://vue3-course-api.hexschool.io","/signup");this.$http.post(a,s).then((function(t){t.data.success?(e.statusPromptSignup="".concat(t.data.message,"!!"),e.statuBoolSignup=!0,e.signUpFallOrSuccess=new Date):(e.password="",e.statusPromptSignup="".concat(t.data.message,"!!請檢查帳號密碼!"),e.statuBoolSignup=!1,e.signUpFallOrSuccess=new Date)})).catch((function(t){"auth/weak-password"===t.response.data.code?(e.username="",e.password="",e.passwordRepit="",e.statusPromptSignup="密碼強度太弱!! 請填入6~20位英數字",e.statuBoolSignup=!1,e.signUpFallOrSuccess=new Date):"auth/email-already-in-use"===t.response.data.code&&(e.username="",e.password="",e.passwordRepit="",e.statusPromptSignup="帳號已經被使用!!",e.statuBoolSignup=!1,e.signUpFallOrSuccess=new Date)}))}else this.username="",this.password="",this.passwordRepit="",this.statusPromptSignup="輸入格式錯誤!!",this.statuBoolSignup=!1,this.signUpFallOrSuccess=new Date},getSignupEmitData:function(e){this.username=e.username,this.password=e.password,this.passwordRepit=e.passwordRepit,this.signup()},chkMenuData:function(){this.$refs.Login.$refs.loginForm.resetForm(),this.$refs.Signup.$refs.signupForm.resetForm(),this.$refs.ForgetPassword.$refs.forgetForm.resetForm()}}};s("7d3d");j.render=d,j.__scopeId="data-v-2b168b28";t["default"]=j}}]);
//# sourceMappingURL=chunk-48912f66.7583d10d.js.map
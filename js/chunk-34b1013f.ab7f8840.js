(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34b1013f"],{"139f":function(e,t,a){"use strict";var c=a("7a23"),o={class:"modal fade",ref:"Delete","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"DeleteAllLabel","aria-hidden":"true"},s={class:"modal-dialog"},n={class:"modal-content"},r=Object(c["createVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(c["createVNode"])("h5",{class:"modal-title text-center",id:"DeleteAllLabel"},"確定刪除?"),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),d={class:"modal-footer"},i=Object(c["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 讓我想想 ",-1);function l(e,t,a,l,b,u){return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",n,[r,Object(c["createVNode"])("div",d,[i,Object(c["createVNode"])("button",{id:"signOut",onClick:t[1]||(t[1]=function(){return u.send&&u.send.apply(u,arguments)}),type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"}," 非常低肯定! ")])])])],512)}var b=a("7c2b"),u=a.n(b),p={emits:["send"],data:function(){return{Modal:"",item:""}},methods:{send:function(){this.$emit("send",this.item)},openModal:function(e){this.item=e,this.Modal.show()}},mounted:function(){this.Modal=new u.a(this.$refs.Delete)}};p.render=l;t["a"]=p},1799:function(e,t,a){"use strict";var c=a("7a23"),o={"aria-label":"Page navigation example"},s={class:"pagination"},n=Object(c["createVNode"])("span",{"aria-hidden":"true"},"«",-1),r=Object(c["createVNode"])("span",{"aria-hidden":"true"},"»",-1);function d(e,t,a,d,i,l){return Object(c["openBlock"])(),Object(c["createBlock"])("nav",o,[Object(c["createVNode"])("ul",s,[Object(c["createVNode"])("li",{class:["page-item",{disabled:!a.pagination.has_pre}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(t){return e.$emit("get-product",a.pagination.current_page-1)}),["prevent"]))},[n])],2),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(a.pagination.total_pages,(function(t,o){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:o,class:[{active:a.pagination.current_page==t},"page-item"]},[Object(c["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(c["withModifiers"])((function(a){return e.$emit("get-product",t)}),["prevent"])},Object(c["toDisplayString"])(t),9,["onClick"])],2)})),128)),Object(c["createVNode"])("li",{class:["page-item",{disabled:!a.pagination.has_next}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(t){return e.$emit("get-product",a.pagination.current_page+1)}),["prevent"]))},[r])],2)])])}var i={props:["pagination"],emits:["get-product"]};i.render=d;t["a"]=i},"36a4":function(e,t,a){e.exports=a.p+"img/notfound.4a7f0738.png"},b0c0:function(e,t,a){var c=a("83ab"),o=a("9bf2").f,s=Function.prototype,n=s.toString,r=/^\s*function ([^ (]*)/,d="name";c&&!(d in s)&&o(s,d,{configurable:!0,get:function(){try{return n.call(this).match(r)[1]}catch(e){return""}}})},bb5b:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),o=a("36a4"),s=a.n(o),n=Object(c["createVNode"])("h2",{class:"\n      shadow-sm\n      p-3\n      mt-1\n      mb-5\n      bg-yellow-lighten\n      rounded\n      text-primary\n      fz-3 fz-sm-4\n    "}," 訂單列表 ",-1),r={class:"container"},d={key:0,class:"d-flex justify-content-end"},i={class:"table table-hover"},l=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",{scope:"col",class:"col-1"},"#"),Object(c["createVNode"])("th",{scope:"col",class:"d-none d-md-table-cell col-md-3"},"建立時間"),Object(c["createVNode"])("th",{scope:"col",class:"col-2"},"姓名"),Object(c["createVNode"])("th",{scope:"col",class:"col-3 d-none d-ssm-table-cell"},"付款"),Object(c["createVNode"])("th",{scope:"col",class:"col-3"},"刪除")])],-1),b={scope:"row",class:"col-1"},u={class:"d-none d-md-table-cell col-md-3"},p={class:"col-2"},O={class:"col-3 position-relative d-none d-ssm-table-cell"},m={class:"btn-enable--center"},g={class:"onoffswitch"},j={class:"col-3 position-relative"},f={key:1,src:s.a,alt:"not found"},h={key:3,class:"d-flex justify-content-center"},N={class:"container"};function V(e,t,a,o,s,V){var k=this,v=Object(c["resolveComponent"])("Alert"),y=Object(c["resolveComponent"])("ReditOrderModal"),D=Object(c["resolveComponent"])("Pagination"),M=Object(c["resolveComponent"])("Delete"),_=Object(c["resolveComponent"])("DeleteAll"),S=Object(c["resolveComponent"])("Loading");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[n,Object(c["createVNode"])("div",r,[s.pagination.total_pages?(Object(c["openBlock"])(),Object(c["createBlock"])("div",d,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=function(e){return k.$refs.deleteAllModal.openModal()})}," 清空全部訂單 ")])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("table",i,[l,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(s.orders,(function(a,o){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:a.id},[Object(c["createVNode"])("th",b,Object(c["toDisplayString"])(a.num),1),Object(c["createVNode"])("td",u,Object(c["toDisplayString"])(e.$toLocaleDate(a.create_at)),1),Object(c["createVNode"])("td",p,Object(c["toDisplayString"])(a.user.name),1),Object(c["createVNode"])("td",O,[Object(c["createVNode"])("div",m,[Object(c["createVNode"])("div",g,[1==a.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"checkbox",name:"onoffswitch",class:"onoffswitch-checkbox",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(){return V.orderEnable&&V.orderEnable.apply(V,arguments)}),["prevent"])),id:"myonoffswitch_"+a.id,tabindex:"0",checked:"","data-orderData":JSON.stringify(a)},null,8,["id","data-orderData"])):(Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:1,type:"checkbox",name:"onoffswitch",class:"onoffswitch-checkbox",onClick:t[3]||(t[3]=Object(c["withModifiers"])((function(){return V.orderEnable&&V.orderEnable.apply(V,arguments)}),["prevent"])),id:"myonoffswitch_"+a.id,tabindex:"0","data-orderData":JSON.stringify(a)},null,8,["id","data-orderData"])),Object(c["createVNode"])("label",{class:"onoffswitch-label",for:"myonoffswitch_"+a.id},null,8,["for"])])])]),Object(c["createVNode"])("td",j,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("button",{type:"button",id:"getOne_"+o,onClick:t[4]||(t[4]=function(){return V.getOneData&&V.getOneData.apply(V,arguments)}),class:"btn btn-sm btn-primary btn-left","data-item":JSON.stringify(a)}," 查看 ",8,["id","data-item"]),Object(c["createVNode"])("button",{type:"button",id:"delOrder_"+a.id,onClick:function(e){return k.$refs.deleteModal.openModal(a)},class:"btn btn-sm btn-danger btn-right","data-id":a.id}," 刪除 ",8,["id","onClick","data-id"])])])])})),128))])]),0===s.orders.length?(Object(c["openBlock"])(),Object(c["createBlock"])("img",f)):Object(c["createCommentVNode"])("",!0),s.alertMessage?(Object(c["openBlock"])(),Object(c["createBlock"])(v,{key:2,class:"alert-position",message:s.alertMessage,status:s.alertStatus},null,8,["message","status"])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(y,{ref:"reditOrder","redi-datas":s.rediOrderData,onEmitReditNewNata:V.reditOneData},null,8,["redi-datas","onEmitReditNewNata"]),s.pagination.total_pages?(Object(c["openBlock"])(),Object(c["createBlock"])("div",h,[Object(c["createVNode"])(D,{pagination:s.pagination,onGetProduct:V.getOrdersData},null,8,["pagination","onGetProduct"])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(M,{ref:"deleteModal",onSend:V.delOneData},null,8,["onSend"]),Object(c["createVNode"])(_,{ref:"deleteAllModal",onSend:V.deleteAll},null,8,["onSend"]),Object(c["createVNode"])("div",N,[Object(c["createVNode"])(S,{isVueLoading:s.isLoading},null,8,["isVueLoading"])])])],64)}a("99af"),a("a9e3");var k=a("98ab"),v=a("1799"),y=(a("a4d3"),a("e01a"),{class:"modal fade",ref:"reditOrderModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}),D={class:"modal-dialog"},M={class:"modal-content"},_=Object(c["createVNode"])("div",{class:"modal-header bg-dark text-warning fw-bold"},[Object(c["createVNode"])("h5",{class:"modal-title fz-4",id:"exampleModalLabel"},"修改訂單"),Object(c["createVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),S={class:"modal-body"},w={class:"card card-body row fw-bold fz-2"},x={class:"card"},B={class:"card-body"},C={class:"card-title"},$={class:"card-text"},L={class:"card-text"},T=Object(c["createTextVNode"])(" 訂單內容 "),A={class:"card mb-3"},E={class:"row g-0"},J={class:"col-md-2"},P={class:"col-md-10"},F={class:"card-body"},z={class:"card-title"},R={class:"card-text"},U={class:"text-muted"},G={class:"card-text d-flex justify-content-between"},q={class:"\n                    d-flex\n                    justify-content-between\n                    align-items-center\n                    fw-bold\n                  "},H={class:"fs-3 text-danger"},I={key:0,class:"fs-3 text-success"},K=Object(c["createVNode"])("p",null,"已付款",-1),Q={key:1,class:"fs-3 text-danger"},W=Object(c["createVNode"])("p",null,"未付款",-1),X=Object(c["createVNode"])("hr",{class:"mt-5"},null,-1),Y={class:"form-group"},Z={class:"form-check"},ee={for:"bg_redit_is_paid",class:"form-check-label"},te={class:"modal-footer"},ae=Object(c["createVNode"])("button",{type:"button",id:"btn_redit_cance",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 取消修改 ",-1);function ce(e,t,a,o,s,n){return Object(c["openBlock"])(),Object(c["createBlock"])("div",y,[Object(c["createVNode"])("div",D,[Object(c["createVNode"])("div",M,[_,Object(c["createVNode"])("div",S,[Object(c["createVNode"])("div",w,[Object(c["createVNode"])("div",x,[Object(c["createVNode"])("div",B,[Object(c["createVNode"])("h5",C,Object(c["toDisplayString"])("訂單編號 : ".concat(s.rediData.id)),1),Object(c["createVNode"])("p",$,[Object(c["createVNode"])("small",null,Object(c["toDisplayString"])(s.rediData.create_at),1)]),Object(c["createVNode"])("p",L,Object(c["toDisplayString"])("備註: ".concat(s.rediData.message)),1),Object(c["createVNode"])("ul",null,[T,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(s.rediData.products,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:e.id},[Object(c["createVNode"])("div",A,[Object(c["createVNode"])("div",E,[Object(c["createVNode"])("div",J,[Object(c["createVNode"])("img",{class:"prd-img-100",src:e.product.imageUrl,alt:e.product.imageUrl},null,8,["src","alt"])]),Object(c["createVNode"])("div",P,[Object(c["createVNode"])("div",F,[Object(c["createVNode"])("h5",z,Object(c["toDisplayString"])(e.product.title),1),Object(c["createVNode"])("p",R,[Object(c["createVNode"])("small",U,Object(c["toDisplayString"])(e.product.description),1)]),Object(c["createVNode"])("p",G,[Object(c["createVNode"])("small",null,Object(c["toDisplayString"])(e.qty),1),Object(c["createVNode"])("small",null,"$"+Object(c["toDisplayString"])(e.total),1)])])])])])])})),128))]),Object(c["createVNode"])("ul",q,[Object(c["createVNode"])("li",H,[Object(c["createVNode"])("p",null,Object(c["toDisplayString"])("總計: ".concat(s.rediData.total," 元")),1)]),s.rediData.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("li",I,[K])):(Object(c["openBlock"])(),Object(c["createBlock"])("li",Q,[W]))])])]),X,Object(c["createVNode"])("div",Y,[Object(c["createVNode"])("div",Z,[s.rediData.is_paid?Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.rediData.is_paid=e}),checked:"","true-value":"true","false-value":"false",id:"bg_redit_is_paid",class:"form-check-input"},null,512)),[[c["vModelCheckbox"],s.rediData.is_paid]]):Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:1,type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.rediData.is_paid=e}),"true-value":"true","false-value":"false",id:"bg_redit_is_paid",class:"form-check-input"},null,512)),[[c["vModelCheckbox"],s.rediData.is_paid]]),Object(c["createVNode"])("label",ee,Object(c["toDisplayString"])("是否已付款  ".concat(s.rediData.is_paid)),1)])])])]),Object(c["createVNode"])("div",te,[ae,Object(c["createVNode"])("button",{type:"button","data-backdrop":"false","data-dismiss":"modal",class:"btn btn-primary",onClick:t[3]||(t[3]=function(){return n.reditOneData&&n.reditOneData.apply(n,arguments)})}," 儲存修改 ")])])])],512)}var oe=a("7c2b"),se=a.n(oe),ne={props:["rediDatas"],emits:["emit-redit-new-nata"],data:function(){return{Modal:"",rediData:{}}},methods:{reditOneData:function(){var e={id:this.rediData.id,create_at:this.rediData.create_at,is_paid:"true"===this.rediData.is_paid,message:this.rediData.message,payment_method:this.rediData.payment_method,products:this.rediData.products,total:Number(this.rediData.total),user:this.rediData.user};this.$emit("emit-redit-new-nata",e)},openModal:function(){this.Modal.show()},closeModal:function(){this.Modal.hide()}},watch:{rediDatas:function(){this.rediData=this.rediDatas}},mounted:function(){this.Modal=new se.a(this.$refs.reditOrderModal)}};ne.render=ce;var re=ne,de=a("c90a"),ie=a("3a5e"),le=a("139f"),be={components:{Delete:le["a"],Alert:k["a"],Pagination:v["a"],ReditOrderModal:re,DeleteAll:de["a"],Loading:ie["a"]},data:function(){return{alertMessage:"",alertStatus:!1,orders:[],pagination:[],rediOrderData:[],isLoading:!1}},methods:{getOrdersData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/orders?page=").concat(t);this.$http.get(a).then((function(t){t.data.success?(e.orders=t.data.orders,e.pagination=t.data.pagination,e.isLoading=!1):(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))},orderEnable:function(e){var t=this,a=JSON.parse(e.target.dataset.orderdata),c=a.id;a.is_paid=!a.is_paid;var o="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/order/").concat(c);this.$http.put(o,{data:{create_at:a.create_at,is_paid:a.is_paid,message:a.message,payment_method:a.payment_method,products:a.products,total:Number(a.total),user:a.user}}).then((function(e){e.data.success?(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getOrdersData()):(t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3))})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))},delOneData:function(e){var t=this,a=e.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/order/").concat(a);this.$http.delete(c).then((function(e){e.data.success?(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getOrdersData()):(t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3))})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))},getOneData:function(e){var t=JSON.parse(e.target.dataset.item);this.rediOrderData=t,this.$refs.reditOrder.openModal()},reditOneData:function(e){var t=this;this.$refs.reditOrder.closeModal();var a=e.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/order/").concat(a);this.$http.put(c,{data:{create_at:e.create_at,is_paid:e.is_paid,message:e.message,payment_method:e.payment_method,products:e.products,total:Number(e.total),user:e.user}}).then((function(e){e.data.success?(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getOrdersData()):(t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3))})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))},deleteAll:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/orders/all");this.$http.delete(t).then((function(t){t.data.success?(e.alertMessage=t.data.message,e.alertStatus=!0,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.getOrdersData()):(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))}},mounted:function(){this.getOrdersData()}};be.render=V;t["default"]=be},c90a:function(e,t,a){"use strict";var c=a("7a23"),o={class:"modal fade",ref:"DeleteAll","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"DeleteAllLabel","aria-hidden":"true"},s={class:"modal-dialog"},n={class:"modal-content"},r=Object(c["createVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(c["createVNode"])("h5",{class:"modal-title text-center",id:"DeleteAllLabel"}," 確定清除全部? "),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),d={class:"modal-footer"},i=Object(c["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 讓我想想 ",-1);function l(e,t,a,l,b,u){return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",n,[r,Object(c["createVNode"])("div",d,[i,Object(c["createVNode"])("button",{id:"signOut",onClick:t[1]||(t[1]=function(){return u.send&&u.send.apply(u,arguments)}),type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"}," 非常低肯定! ")])])])],512)}var b=a("7c2b"),u=a.n(b),p={emits:["send"],data:function(){return{Modal:""}},methods:{send:function(){this.$emit("send")},openModal:function(){this.Modal.show()}},mounted:function(){this.Modal=new u.a(this.$refs.DeleteAll)}};p.render=l;t["a"]=p}}]);
//# sourceMappingURL=chunk-34b1013f.ab7f8840.js.map
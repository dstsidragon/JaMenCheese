(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb0ffa66"],{"139f":function(e,t,a){"use strict";var d=a("7a23"),c={class:"modal fade",ref:"Delete","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"DeleteAllLabel","aria-hidden":"true"},r={class:"modal-dialog"},o={class:"modal-content"},i=Object(d["createVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(d["createVNode"])("h5",{class:"modal-title text-center",id:"DeleteAllLabel"},"確定刪除?"),Object(d["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),l={class:"modal-footer"},n=Object(d["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 讓我想想 ",-1);function s(e,t,a,s,u,b){return Object(d["openBlock"])(),Object(d["createBlock"])("div",c,[Object(d["createVNode"])("div",r,[Object(d["createVNode"])("div",o,[i,Object(d["createVNode"])("div",l,[n,Object(d["createVNode"])("button",{id:"signOut",onClick:t[1]||(t[1]=function(){return b.send&&b.send.apply(b,arguments)}),type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"}," 非常低肯定! ")])])])],512)}var u=a("7c2b"),b=a.n(u),m={emits:["send"],data:function(){return{Modal:"",item:""}},methods:{send:function(){this.$emit("send",this.item)},openModal:function(e){this.item=e,this.Modal.show()}},mounted:function(){this.Modal=new b.a(this.$refs.Delete)}};m.render=s;t["a"]=m},1799:function(e,t,a){"use strict";var d=a("7a23"),c={"aria-label":"Page navigation example"},r={class:"pagination"},o=Object(d["createVNode"])("span",{"aria-hidden":"true"},"«",-1),i=Object(d["createVNode"])("span",{"aria-hidden":"true"},"»",-1);function l(e,t,a,l,n,s){return Object(d["openBlock"])(),Object(d["createBlock"])("nav",c,[Object(d["createVNode"])("ul",r,[Object(d["createVNode"])("li",{class:["page-item",{disabled:!a.pagination.has_pre}]},[Object(d["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(d["withModifiers"])((function(t){return e.$emit("get-product",a.pagination.current_page-1)}),["prevent"]))},[o])],2),(Object(d["openBlock"])(!0),Object(d["createBlock"])(d["Fragment"],null,Object(d["renderList"])(a.pagination.total_pages,(function(t,c){return Object(d["openBlock"])(),Object(d["createBlock"])("li",{key:c,class:[{active:a.pagination.current_page==t},"page-item"]},[Object(d["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(d["withModifiers"])((function(a){return e.$emit("get-product",t)}),["prevent"])},Object(d["toDisplayString"])(t),9,["onClick"])],2)})),128)),Object(d["createVNode"])("li",{class:["page-item",{disabled:!a.pagination.has_next}]},[Object(d["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(d["withModifiers"])((function(t){return e.$emit("get-product",a.pagination.current_page+1)}),["prevent"]))},[i])],2)])])}var n={props:["pagination"],emits:["get-product"]};n.render=l;t["a"]=n},b64b:function(e,t,a){var d=a("23e7"),c=a("7b0b"),r=a("df75"),o=a("d039"),i=o((function(){r(1)}));d({target:"Object",stat:!0,forced:i},{keys:function(e){return r(c(e))}})},b6af:function(e,t,a){"use strict";a.r(t);var d=a("7a23"),c=Object(d["createVNode"])("h2",{class:"\n      shadow-sm\n      p-3\n      mt-1\n      mb-5\n      bg-yellow-lighten\n      text-primary\n      rounded\n      fz-3 fz-sm-4\n    "}," 商品管理 ",-1),r={class:"container mt-5 justify-content-evenly d-flex align-items-center"},o={class:"container"},i={class:"container"},l={class:"table mt-4 row"},n=Object(d["createVNode"])("thead",{class:"co1-12"},[Object(d["createVNode"])("tr",{class:"row"},[Object(d["createVNode"])("th",{class:"col-3 d-none d-md-table-cell"},"產品圖片"),Object(d["createVNode"])("th",{class:"col-3"},"產品名稱"),Object(d["createVNode"])("th",{class:"col-2 col-md-1 d-none d-ssm-table-cell",width:"120"}," 原價 "),Object(d["createVNode"])("th",{class:"col-3 col-ssm-2 col-md-1"},"售價"),Object(d["createVNode"])("th",{class:"col-3 col-ssm-2"},"是否啟用"),Object(d["createVNode"])("th",{class:"col-3 col-md-2"},"編輯/刪除")])],-1),s={id:"productList"},u={class:"col-3 d-none d-md-table-cell d-flex align-items-center"},b={class:"col-3 d-flex justify-content-center align-items-center"},m={class:"\n                col-2 col-md-1\n                d-none d-ssm-flex\n                justify-content-center\n                align-items-center\n              "},g={class:"\n                col-3 col-ssm-2 col-md-1\n                justify-content-center\n                d-flex\n                align-items-center\n              "},p={class:"\n                col-3 col-ssm-2\n                d-flex\n                justify-content-center\n                align-items-center\n              "},f={class:"onoffswitch"},h={class:"\n                col-3 col-md-2\n                justify-content-center\n                d-flex\n                align-items-center\n              "},O={class:"d-flex justify-content-center"};function j(e,t,a,j,_,V){var N=this,v=Object(d["resolveComponent"])("Alert"),D=Object(d["resolveComponent"])("AddProductModal"),y=Object(d["resolveComponent"])("Delete"),M=Object(d["resolveComponent"])("ReditProductModal"),U=Object(d["resolveComponent"])("Pagination"),x=Object(d["resolveComponent"])("Loading"),P=Object(d["resolveComponent"])("DeleteAll");return Object(d["openBlock"])(),Object(d["createBlock"])(d["Fragment"],null,[c,Object(d["createVNode"])("div",r,[_.alertMessage?(Object(d["openBlock"])(),Object(d["createBlock"])(v,{key:0,class:"alert-position",message:_.alertMessage,status:_.alertStatus},null,8,["message","status"])):Object(d["createCommentVNode"])("",!0),Object(d["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=function(){return V.clearProductData&&V.clearProductData.apply(V,arguments)})}," 新增產品 "),_.dataLength>0?(Object(d["openBlock"])(),Object(d["createBlock"])("button",{key:1,class:[{"d-none":!this.productDataAll},"btn btn-danger d-none d-sm-block"],type:"button",onClick:t[2]||(t[2]=function(e){return N.$refs.deleteAllModal.openModal()})}," 一鑑刪除全部商品 ",2)):Object(d["createCommentVNode"])("",!0),Object(d["createVNode"])(D,{ref:"UpLoadImg","add-product":_.addProduct,onEmitProductData:V.addPrductData},null,8,["add-product","onEmitProductData"])]),Object(d["createVNode"])(y,{ref:"deleteModal",onSend:V.delOneData},null,8,["onSend"]),Object(d["createVNode"])("div",o,[Object(d["createVNode"])("div",i,[Object(d["createVNode"])("table",l,[n,Object(d["createVNode"])("tbody",s,[(Object(d["openBlock"])(!0),Object(d["createBlock"])(d["Fragment"],null,Object(d["renderList"])(_.productData,(function(e,a){return Object(d["openBlock"])(),Object(d["createBlock"])("tr",{class:"row",key:"bg_prd_".concat(a)},[Object(d["createVNode"])("td",u,[Object(d["createVNode"])("img",{src:e.imageUrl,alt:e.imageUrl},null,8,["src","alt"])]),Object(d["createVNode"])("td",b,Object(d["toDisplayString"])(e.title),1),Object(d["createVNode"])("td",m,Object(d["toDisplayString"])(e.origin_price),1),Object(d["createVNode"])("td",g,Object(d["toDisplayString"])(e.price),1),Object(d["createVNode"])("td",p,[Object(d["createVNode"])("div",f,[1==e.is_enabled?(Object(d["openBlock"])(),Object(d["createBlock"])("input",{key:0,type:"checkbox",name:"onoffswitch",class:"onoffswitch-checkbox",onClick:t[3]||(t[3]=Object(d["withModifiers"])((function(){return V.productEnable&&V.productEnable.apply(V,arguments)}),["prevent"])),id:"myonoffswitch_"+e.id,tabindex:"0",checked:"","data-is_enabled":e.is_enabled,"data-id":e.id,"data-title":e.title,"data-category":e.category,"data-unit":e.unit,"data-origin_price":e.origin_price,"data-price":e.price},null,8,["id","data-is_enabled","data-id","data-title","data-category","data-unit","data-origin_price","data-price"])):(Object(d["openBlock"])(),Object(d["createBlock"])("input",{key:1,type:"checkbox",name:"onoffswitch",class:"onoffswitch-checkbox",onClick:t[4]||(t[4]=Object(d["withModifiers"])((function(){return V.productEnable&&V.productEnable.apply(V,arguments)}),["prevent"])),id:"myonoffswitch_"+e.id,tabindex:"0","data-is_enabled":e.is_enabled,"data-id":e.id,"data-title":e.title,"data-category":e.category,"data-unit":e.unit,"data-origin_price":e.origin_price,"data-price":e.price},null,8,["id","data-is_enabled","data-id","data-title","data-category","data-unit","data-origin_price","data-price"])),Object(d["createVNode"])("label",{class:"onoffswitch-label",for:"myonoffswitch_"+e.id},null,8,["for"])])]),Object(d["createVNode"])("td",h,[Object(d["createVNode"])("button",{type:"button",id:"redit_"+a,onClick:t[5]||(t[5]=function(){return V.getReditOneData&&V.getReditOneData.apply(V,arguments)}),class:"btn btn-sm btn-primary btn-left","data-action":"remove","data-id":e.id}," 編輯 ",8,["id","data-id"]),Object(d["createVNode"])("button",{type:"button",id:"del_"+e.id,onClick:function(t){return N.$refs.deleteModal.openModal(e)},class:"btn btn-sm btn-danger btn-right","data-action":"remove","data-id":e.id}," 刪除 ",8,["id","onClick","data-id"])])])})),128))])]),Object(d["createVNode"])("p",null,Object(d["toDisplayString"])("目前頁面有 ".concat(_.dataLength," 項產品")),1)])]),Object(d["createVNode"])(M,{ref:"ReditProductModal","redi-datas":_.rediData,onEmitReditNewNata:V.reditOneData},null,8,["redi-datas","onEmitReditNewNata"]),Object(d["createVNode"])("div",O,[Object(d["createVNode"])(U,{pagination:_.pagination,onGetProduct:V.getProduct},null,8,["pagination","onGetProduct"]),Object(d["createVNode"])(x,{isVueLoading:_.isLoading},null,8,["isVueLoading"]),Object(d["createVNode"])(P,{ref:"deleteAllModal",onSend:V.OneKeyDelAllProduct},null,8,["onSend"])])],64)}a("ac1f"),a("5319"),a("99af"),a("a9e3"),a("159b"),a("1276"),a("a4d3"),a("e01a"),a("b64b");var _=a("139f"),V=a("1799"),N={ref:"addProductModal",class:"modal fade",id:"addProduct",tabindex:"-1","aria-labelledby":"addProductModal","aria-hidden":"true"},v={class:"modal-dialog"},D={class:"modal-content"},y=Object(d["createVNode"])("div",{class:"modal-header bg-primary text-white"},[Object(d["createVNode"])("h5",{class:"modal-title fz-4",id:"addProductModal"},"新增商品"),Object(d["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),M={class:"modal-body fs-2"},U={class:"card card-body row"},x={class:"form-group mb-2"},P=Object(d["createVNode"])("label",{for:"bg_add_title2"},"標題",-1),k={class:"form-group mb-2"},w=Object(d["createVNode"])("label",{for:"bg_add_description2"},"描述",-1),S={class:"form-group mb-2"},C=Object(d["createVNode"])("label",{for:"bg_add_content"},"介紹",-1),T={class:"\n                  form-row\n                  d-flex\n                  flex-wrap\n                  justify-content-center justify-content-sm-between\n                  mb-2\n                "},B={class:"form-group col-12 col-md-5"},$=Object(d["createVNode"])("label",{for:"bg_add_category2"},"分類",-1),A=Object(d["createVNode"])("option",{disabled:""},"點擊選取分類",-1),L=Object(d["createVNode"])("option",null,"經典麵包",-1),E=Object(d["createVNode"])("option",null,"西式甜點",-1),I=Object(d["createVNode"])("option",null,"特調飲品",-1),F=Object(d["createVNode"])("option",null,"手作餅乾",-1),R=Object(d["createVNode"])("option",null,"典藏蛋糕",-1),q={class:"form-group col-12 col-md-5"},z=Object(d["createVNode"])("label",{for:"bg_add_unit"},"單位",-1),G={class:"\n                  form-row\n                  d-flex\n                  flex-wrap\n                  justify-content-center justify-content-sm-between\n                  mb-2\n                "},J={class:"form-group col-12 col-md-5"},K=Object(d["createVNode"])("label",{for:"bg_add_origin_price"},"原價",-1),H={class:"form-group col-12 col-md-5"},Q=Object(d["createVNode"])("label",{for:"bg_add_price"},"售價",-1),W=Object(d["createVNode"])("hr",{class:"mt-5"},null,-1),X={class:"form-group"},Y=Object(d["createVNode"])("label",{for:"bg_add_image"},"點此上傳主圖",-1),Z={id:"bg_add_image",ref:"UpLoadImgInp",type:"file",name:"file-to-upload",class:"d-none"},ee={class:"form-row d-flex flex-wrap"},te={item:"0",class:"form-group col-md-6"},ae=Object(d["createVNode"])("label",{for:"bg_add_image12"},"輸入圖片網址 1 ",-1),de={item:"1",class:"form-group col-md-6"},ce=Object(d["createVNode"])("label",{for:"bg_add_image22"},"輸入圖片網址 2 ",-1),re={item:"2",class:"form-group col-md-6"},oe=Object(d["createVNode"])("label",{for:"bg_add_image32"},"輸入圖片網址 3 ",-1),ie={item:"3",class:"form-group col-md-6"},le=Object(d["createVNode"])("label",{for:"bg_add_image42"},"輸入圖片網址 4 ",-1),ne={item:"4",class:"form-group col-md-6"},se=Object(d["createVNode"])("label",{for:"bg_add_image52"},"輸入圖片網址 5 ",-1),ue={class:"form-group"},be={class:"form-check"},me=Object(d["createVNode"])("label",{for:"bg_add_is_enabled",class:"form-check-label"}," 是否啟用 ",-1),ge={class:"modal-footer"},pe=Object(d["createVNode"])("button",{type:"submit",class:"btn btn-primary"},"建立產品資料",-1);function fe(e,t,a,c,r,o){var i=Object(d["resolveComponent"])("Field"),l=Object(d["resolveComponent"])("ErrorMessage"),n=Object(d["resolveComponent"])("Form"),s=Object(d["resolveComponent"])("Alert");return Object(d["openBlock"])(),Object(d["createBlock"])(d["Fragment"],null,[Object(d["createVNode"])("div",N,[Object(d["createVNode"])("div",v,[Object(d["createVNode"])("div",D,[y,Object(d["createVNode"])(n,{class:"form",ref:"addPrdForm",onSubmit:o.addPrductData},{default:Object(d["withCtx"])((function(e){var a=e.errors;return[Object(d["createVNode"])("div",M,[Object(d["createVNode"])("div",U,[Object(d["createVNode"])("div",x,[P,Object(d["createVNode"])(i,{type:"text",id:"bg_add_title2",placeholder:"請輸入標題",class:["form-control",{"is-invalid":a["標題"]}],name:"標題",rules:"required",modelValue:r.addProducts.bg_add_title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.addProducts.bg_add_title=e})},null,8,["class","modelValue"]),Object(d["createVNode"])(l,{name:"標題",class:"invalid-feedback"})]),Object(d["createVNode"])("div",k,[w,Object(d["createVNode"])(i,{as:"textarea",type:"text",id:"bg_add_description2",placeholder:"請輸入描述",class:["form-control",{"is-invalid":a["描述"]}],name:"描述",rules:"required",modelValue:r.addProducts.bg_add_description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.addProducts.bg_add_description=e})},null,8,["class","modelValue"]),Object(d["createVNode"])(l,{name:"描述",class:"invalid-feedback"})]),Object(d["createVNode"])("div",S,[C,Object(d["createVNode"])(i,{as:"textarea",type:"text",id:"bg_add_content",placeholder:"請輸入詳細",name:"介紹",class:[{"is-invalid":a["介紹"]},"form-control"],rules:"required",modelValue:r.addProducts.bg_add_content,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.addProducts.bg_add_content=e})},null,8,["class","modelValue"]),Object(d["createVNode"])(l,{name:"介紹",class:"invalid-feedback"})]),Object(d["createVNode"])("div",T,[Object(d["createVNode"])("div",B,[$,Object(d["createVNode"])(i,{as:"select",id:"bg_add_category2",placeholder:"請輸入分類",name:"分類",class:[{"is-invalid":a["分類"]},"form-control"],rules:"required",modelValue:r.addProducts.bg_add_category,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.addProducts.bg_add_category=e})},{default:Object(d["withCtx"])((function(){return[A,L,E,I,F,R]})),_:2},1032,["class","modelValue"]),Object(d["createVNode"])(l,{name:"分類",class:"invalid-feedback"})]),Object(d["createVNode"])("div",q,[z,Object(d["createVNode"])(i,{type:"unit",id:"bg_add_unit",placeholder:"請輸入單位",name:"單位",class:[{"is-invalid":a["單位"]},"form-control"],rules:"required",modelValue:r.addProducts.bg_add_unit,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.addProducts.bg_add_unit=e})},null,8,["class","modelValue"]),Object(d["createVNode"])(l,{name:"單位",class:"invalid-feedback"})])]),Object(d["createVNode"])("div",G,[Object(d["createVNode"])("div",J,[K,Object(d["createVNode"])(i,{type:"number",id:"bg_add_origin_price",placeholder:"請輸入原價",min:"0",name:"原價",class:[{"is-invalid":a["原價"]},"form-control"],rules:"required",oninput:"value=value.replace('-', '')",modelValue:r.addProducts.bg_add_origin_price,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.addProducts.bg_add_origin_price=e})},null,8,["class","modelValue"]),Object(d["createVNode"])(l,{name:"原價",class:"invalid-feedback"})]),Object(d["createVNode"])("div",H,[Q,Object(d["createVNode"])(i,{type:"number",id:"bg_add_price",placeholder:"請輸入售價",class:["form-control",{"is-invalid":a["售價"]}],min:"0",name:"售價",rules:"required",oninput:"value=value.replace('-', '')",modelValue:r.addProducts.bg_add_price,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.addProducts.bg_add_price=e})},null,8,["class","modelValue"]),Object(d["createVNode"])(l,{name:"售價",class:"invalid-feedback"})])]),W,Object(d["createVNode"])("div",X,[Y,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",disabled:"","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.addProducts.imageUrl=e}),placeholder:"請輸入主圖連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.addProducts.imageUrl]]),Object(d["createVNode"])("img",{id:"bg_image",class:[{"d-none":!r.addProducts.imageUrl},"img-fluid"],src:r.addProducts.imageUrl,alt:"主圖",width:"250"},null,10,["src"]),Object(d["createVNode"])("input",Z,null,512)]),Object(d["createVNode"])("div",ee,[Object(d["createVNode"])("div",te,[ae,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_add_image12","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.addProducts.imageUrls.url1=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.addProducts.imageUrls.url1]]),Object(d["createVNode"])("img",{id:"bg_image1",class:[{"d-none":!r.addProducts.imageUrls.url1},"img-fluid"],src:r.addProducts.imageUrls.url1,alt:"圖片1",width:"250"},null,10,["src"])]),Object(d["createVNode"])("div",de,[ce,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_add_image22","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.addProducts.imageUrls.url2=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.addProducts.imageUrls.url2]]),Object(d["createVNode"])("img",{id:"bg_image2",class:[{"d-none":!r.addProducts.imageUrls.url2},"img-fluid"],src:r.addProducts.imageUrls.url2,alt:"圖片2",width:"250"},null,10,["src"])]),Object(d["createVNode"])("div",re,[oe,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_add_image32","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.addProducts.imageUrls.url3=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.addProducts.imageUrls.url3]]),Object(d["createVNode"])("img",{id:"bg_image3",class:[{"d-none":!r.addProducts.imageUrls.url3},"img-fluid"],src:r.addProducts.imageUrls.url3,alt:"圖片3",width:"250"},null,10,["src"])]),Object(d["createVNode"])("div",ie,[le,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_add_image42","onUpdate:modelValue":t[12]||(t[12]=function(e){return r.addProducts.imageUrls.url4=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.addProducts.imageUrls.url4]]),Object(d["createVNode"])("img",{id:"bg_image4",class:[{"d-none":!r.addProducts.imageUrls.url4},"img-fluid"],src:r.addProducts.imageUrls.url4,alt:"圖片4",width:"250"},null,10,["src"])]),Object(d["createVNode"])("div",ne,[se,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_add_image52","onUpdate:modelValue":t[13]||(t[13]=function(e){return r.addProducts.imageUrls.url5=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.addProducts.imageUrls.url5]]),Object(d["createVNode"])("img",{id:"bg_image5",class:[{"d-none":!r.addProducts.imageUrls.url5},"img-fluid"],src:r.addProducts.imageUrls.url5,alt:"圖片5",width:"250"},null,10,["src"])])]),Object(d["createVNode"])("div",ue,[Object(d["createVNode"])("div",be,[Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"checkbox","true-value":"1","false-value":"0",id:"bg_add_is_enabled",class:"form-check-input","onUpdate:modelValue":t[14]||(t[14]=function(e){return r.addProducts.bg_add_is_enabled=e})},null,512),[[d["vModelCheckbox"],r.addProducts.bg_add_is_enabled]]),me])])])]),Object(d["createVNode"])("div",ge,[Object(d["createVNode"])("button",{type:"button",class:"btn btn-secondary",onClick:t[15]||(t[15]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)}),"data-bs-dismiss":"modal"}," 取消 "),pe])]})),_:1},8,["onSubmit"])])])],512),r.alertMessage?(Object(d["openBlock"])(),Object(d["createBlock"])(s,{key:0,class:"alert-position",message:r.alertMessage,status:r.alertStatus},null,8,["message","status"])):Object(d["createCommentVNode"])("",!0)],64)}var he=a("7c2b"),Oe=a.n(he),je=a("98ab"),_e={emits:["emit-product-data"],props:["addProduct"],components:{Alert:je["a"]},data:function(){return{alertMessage:"",alertStatus:!1,modal:"",addProducts:{bg_add_title:"",bg_add_category:"",bg_add_origin_price:"",bg_add_price:"",bg_add_unit:"",bg_add_description:"",bg_add_content:"",bg_add_is_enabled:!1,imageUrl:"",imageUrls:{url1:"",url2:"",url3:"",url4:"",url5:""}}}},methods:{addPrductData:function(){var e={data:{title:this.addProducts.bg_add_title,category:this.addProducts.bg_add_category,origin_price:Number(this.addProducts.bg_add_origin_price),price:Number(this.addProducts.bg_add_price),unit:this.addProducts.bg_add_unit,description:this.addProducts.bg_add_description,content:this.addProducts.bg_add_content,is_enabled:this.addProducts.bg_add_is_enabled,imageUrl:this.addProducts.imageUrl,imagesUrl:[this.addProducts.imageUrls.url1,this.addProducts.imageUrls.url2,this.addProducts.imageUrls.url3,this.addProducts.imageUrls.url4,this.addProducts.imageUrls.url5]}};this.$emit("emit-product-data",e)},openModal:function(){this.modal.show()},closeModal:function(){this.modal.hide()},uploadImg:function(){var e=this,t=this.$refs.UpLoadImgInp.files[0],a=new FormData;a.append("file-to-upload",t);var d="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/upload");this.$http.post(d,a).then((function(t){t.data.success&&(e.addProducts.imageUrl=t.data.imageUrl)})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))}},mounted:function(){this.modal=new Oe.a(this.$refs.addProductModal),this.$refs.UpLoadImgInp.addEventListener("change",this.uploadImg,!1)}};_e.render=fe;var Ve=_e,Ne={class:"modal fade",id:"reditModal",ref:"reditModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ve={class:"modal-dialog"},De={class:"modal-content"},ye=Object(d["createVNode"])("div",{class:"modal-header bg-dark text-warning fw-bold"},[Object(d["createVNode"])("h5",{class:"modal-title fz-4",id:"exampleModalLabel"},"修改商品"),Object(d["createVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Me={class:"modal-body"},Ue={class:"card card-body row fw-bold fz-2"},xe={class:"form-group mb-2"},Pe=Object(d["createVNode"])("label",{for:"bg_redit_title "},"標題",-1),ke={class:"form-group mb-2"},we=Object(d["createVNode"])("label",{for:"bg_redit_description"},"描述",-1),Se={class:"form-group mb-2"},Ce=Object(d["createVNode"])("label",{for:"bg_redit_content "},"說明",-1),Te={class:"form-row d-flex flex-wrap justify-content-between mb-2"},Be={class:"form-group col-md-5"},$e=Object(d["createVNode"])("label",{for:"bg_redit_category"},"分類",-1),Ae={class:"form-group col-md-5"},Le=Object(d["createVNode"])("label",{for:"bg_redit_unit"},"單位",-1),Ee={class:"form-row d-flex flex-wrap justify-content-between mb-2"},Ie={class:"form-group col-md-5"},Fe=Object(d["createVNode"])("label",{for:"bg_redit_origin_price"},"原價",-1),Re={class:"form-group col-md-5"},qe=Object(d["createVNode"])("label",{for:"bg_redit_price"},"售價",-1),ze=Object(d["createVNode"])("hr",{class:"mt-5"},null,-1),Ge={class:"form-group"},Je=Object(d["createVNode"])("label",{for:"bg_redit_image"},"輸入主圖網址",-1),Ke={class:"form-row d-flex flex-wrap"},He={item:"0",class:"form-group col-md-6"},Qe=Object(d["createVNode"])("label",{for:"bg_redit_image1"},"輸入圖片網址 1 ",-1),We={item:"1",class:"form-group col-md-6"},Xe=Object(d["createVNode"])("label",{for:"bg_redit_image2"},"輸入圖片網址 2 ",-1),Ye={item:"2",class:"form-group col-md-6"},Ze=Object(d["createVNode"])("label",{for:"bg_redit_image3"},"輸入圖片網址 3 ",-1),et={item:"3",class:"form-group col-md-6"},tt=Object(d["createVNode"])("label",{for:"bg_redit_image4"},"輸入圖片網址 4 ",-1),at={item:"4",class:"form-group col-md-6"},dt=Object(d["createVNode"])("label",{for:"bg_redit_image5"},"輸入圖片網址 5 ",-1),ct={class:"form-group"},rt={class:"form-check"},ot=Object(d["createVNode"])("label",{for:"bg_redit_is_enabled",class:"form-check-label"}," 是否啟用 ",-1),it={class:"modal-footer"},lt=Object(d["createVNode"])("button",{type:"button",id:"btn_redit_cance",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 取消修改 ",-1);function nt(e,t,a,c,r,o){return Object(d["openBlock"])(),Object(d["createBlock"])("div",Ne,[Object(d["createVNode"])("div",ve,[Object(d["createVNode"])("div",De,[ye,Object(d["createVNode"])("div",Me,[Object(d["createVNode"])("div",Ue,[Object(d["createVNode"])("div",xe,[Pe,Object(d["withDirectives"])(Object(d["createVNode"])("textarea",{type:"text",id:"bg_redit_title",placeholder:"請輸入標題","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.rediData.title=e}),class:"form-control",required:""},null,512),[[d["vModelText"],r.rediData.title]])]),Object(d["createVNode"])("div",ke,[we,Object(d["withDirectives"])(Object(d["createVNode"])("textarea",{type:"text",id:"bg_redit_description","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.rediData.description=e}),placeholder:"請輸入描述",class:"form-control"},null,512),[[d["vModelText"],r.rediData.description]])]),Object(d["createVNode"])("div",Se,[Ce,Object(d["withDirectives"])(Object(d["createVNode"])("textarea",{type:"text",cols:"5",id:"bg_redit_content",placeholder:"請輸入說明","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.rediData.content=e}),class:"form-control"},null,512),[[d["vModelText"],r.rediData.content]])]),Object(d["createVNode"])("div",Te,[Object(d["createVNode"])("div",Be,[$e,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_redit_category","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.rediData.category=e}),placeholder:"請輸入分類",class:"form-control"},null,512),[[d["vModelText"],r.rediData.category]])]),Object(d["createVNode"])("div",Ae,[Le,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"unit",id:"bg_redit_unit","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.rediData.unit=e}),placeholder:"請輸入單位",class:"form-control"},null,512),[[d["vModelText"],r.rediData.unit]])])]),Object(d["createVNode"])("div",Ee,[Object(d["createVNode"])("div",Ie,[Fe,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"number",id:"bg_redit_origin_price",min:"0",oninput:"value=value.replace('-', '')","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.rediData.origin_price=e}),placeholder:"請輸入原價",class:"form-control"},null,512),[[d["vModelText"],r.rediData.origin_price]])]),Object(d["createVNode"])("div",Re,[qe,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"number",id:"bg_redit_price",min:"0",oninput:"value=value.replace('-', '')","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.rediData.price=e}),placeholder:"請輸入售價",class:"form-control"},null,512),[[d["vModelText"],r.rediData.price]])])]),ze,Object(d["createVNode"])("div",Ge,[Je,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_redit_image","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.rediData.imageUrl=e}),placeholder:"請輸入主圖連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.rediData.imageUrl]]),Object(d["createVNode"])("img",{id:"bg_image",src:r.rediData.imageUrl,alt:"主圖",width:"250",class:"img-fluid"},null,8,["src"])]),Object(d["createVNode"])("div",Ke,[Object(d["createVNode"])("div",He,[Qe,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_redit_image1","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.rediData.imagesUrl.url1=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.rediData.imagesUrl.url1]]),Object(d["createVNode"])("img",{id:"bg_image1",src:r.rediData.imagesUrl.url1,alt:"圖片1",width:"250",class:"img-fluid"},null,8,["src"])]),Object(d["createVNode"])("div",We,[Xe,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_redit_image2","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.rediData.imagesUrl.url2=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.rediData.imagesUrl.url2]]),Object(d["createVNode"])("img",{id:"bg_image2",src:r.rediData.imagesUrl.url2,alt:"圖片2",width:"250",class:"img-fluid"},null,8,["src"])]),Object(d["createVNode"])("div",Ye,[Ze,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_redit_image3","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.rediData.imagesUrl.url3=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.rediData.imagesUrl.url3]]),Object(d["createVNode"])("img",{id:"bg_image3",src:r.rediData.imagesUrl.url3,alt:"圖片3",width:"250",class:"img-fluid"},null,8,["src"])]),Object(d["createVNode"])("div",et,[tt,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_redit_image4","onUpdate:modelValue":t[12]||(t[12]=function(e){return r.rediData.imagesUrl.url4=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.rediData.imagesUrl.url4]]),Object(d["createVNode"])("img",{id:"bg_image4",src:r.rediData.imagesUrl.url4,alt:"圖片4",width:"250",class:"img-fluid"},null,8,["src"])]),Object(d["createVNode"])("div",at,[dt,Object(d["withDirectives"])(Object(d["createVNode"])("input",{type:"text",id:"bg_redit_image5","onUpdate:modelValue":t[13]||(t[13]=function(e){return r.rediData.imagesUrl.url5=e}),placeholder:"請輸入圖片連結",class:"form-control mb-2"},null,512),[[d["vModelText"],r.rediData.imagesUrl.url5]]),Object(d["createVNode"])("img",{id:"bg_image5",src:r.rediData.imagesUrl.url5,alt:"圖片5",width:"250",class:"img-fluid"},null,8,["src"])])]),Object(d["createVNode"])("div",ct,[Object(d["createVNode"])("div",rt,[r.rediData.is_enabled?Object(d["withDirectives"])((Object(d["openBlock"])(),Object(d["createBlock"])("input",{key:0,type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=function(e){return r.rediData.is_enabled=e}),checked:"","true-value":"1","false-value":"0",id:"bg_redit_is_enabled",class:"form-check-input"},null,512)),[[d["vModelCheckbox"],r.rediData.is_enabled]]):Object(d["withDirectives"])((Object(d["openBlock"])(),Object(d["createBlock"])("input",{key:1,type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=function(e){return r.rediData.is_enabled=e}),"true-value":"1","false-value":"0",id:"bg_redit_is_enabled",class:"form-check-input"},null,512)),[[d["vModelCheckbox"],r.rediData.is_enabled]]),ot])])])]),Object(d["createVNode"])("div",it,[lt,Object(d["createVNode"])("button",{type:"button","data-backdrop":"false","data-dismiss":"modal",class:"btn btn-primary",onClick:t[16]||(t[16]=function(){return o.reditOneData&&o.reditOneData.apply(o,arguments)})}," 儲存修改 ")])])])],512)}var st={props:["rediDatas"],emits:["emit-redit-new-nata"],data:function(){return{Modal:"",rediData:{redi_index:null,id:"",title:"",description:"",content:"",category:null,unit:"",origin_price:null,price:null,is_enabled:0,num:1,imageUrl:"",imagesUrl:{url1:"",url2:"",url3:"",url4:"",url5:""}}}},methods:{reditOneData:function(){var e={data:{category:this.rediData.category,content:this.rediData.content,description:this.rediData.description,id:this.rediData.id,is_enabled:Number(this.rediData.is_enabled),origin_price:Number(this.rediData.origin_price),price:Number(this.rediData.price),title:this.rediData.title,unit:this.rediData.unit,num:1,imageUrl:this.rediData.imageUrl,imagesUrl:[this.rediData.imagesUrl.url1,this.rediData.imagesUrl.url2,this.rediData.imagesUrl.url3,this.rediData.imagesUrl.url4,this.rediData.imagesUrl.url5]}};this.$emit("emit-redit-new-nata",e)},openModal:function(){this.Modal.show()},closeModal:function(){this.Modal.hide()}},mounted:function(){this.Modal=new Oe.a(this.$refs.reditModal),this.rediData=this.rediDatas}};st.render=nt;var ut=st,bt=a("3a5e"),mt=a("c90a"),gt={components:{DeleteAll:mt["a"],Delete:_["a"],Alert:je["a"],Pagination:V["a"],AddProductModal:Ve,ReditProductModal:ut,Loading:bt["a"]},data:function(){return{alertMessage:"",alertStatus:!1,isLoading:!1,productData:[],productDataAll:{},allProductAry:[],pagination:[],dataLength:0,token:document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),defaulData:[],rediData:{redi_index:null,id:"",title:"",description:"",content:"",category:null,unit:"",origin_price:null,price:null,is_enabled:0,num:1,imageUrl:"",imagesUrl:{url1:"",url2:"",url3:"",url4:"",url5:""}},addProduct:{imageUrls:{}}}},methods:{getProduct:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/products?page=").concat(t);this.$http.get(a).then((function(t){t.data.success?(e.productData=t.data.products,e.pagination=t.data.pagination,e.dataLength=e.productData.length,e.getAllProduct(),e.isLoading=!1):(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.$router.push("/login"))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))},delOneData:function(e){var t=this,a=e.id,d="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/product/").concat(a);this.$http.delete(d).then((function(e){e.data.success?(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getProduct()):(t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3))})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))},productEnable:function(e){var t=this,a=e.target.dataset.id,d="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/product/").concat(a);this.$http.put(d,{data:{category:"".concat(e.target.dataset.category),is_enabled:"1"===e.target.dataset.is_enabled?0:1,origin_price:Number(e.target.dataset.origin_price),price:Number(e.target.dataset.price),title:"".concat(e.target.dataset.title),unit:"".concat(e.target.dataset.unit)}}).then((function(e){e.data.success&&(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getProduct())})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))},addPrductData:function(e){var t=this;if(""!==e.bg_add_title&&""!==e.bg_add_category&&""!==e.bg_add_unit&&""!==e.bg_add_origin_price&&""!==e.bg_add_price){var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/product");this.$http.post(a,e).then((function(e){e.data.success&&(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getProduct(),t.$refs.UpLoadImg.closeModal(),t.clearProductData())})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))}else this.alertMessage="標題、分類、單位、原價、售價為必填欄位!",this.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)},getAllProduct:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/products/all");this.$http.get(t).then((function(t){t.data.success?e.productDataAll=t.data.products:(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))},OneKeyDelAllProduct:function(){var e=this;this.allProductAry.forEach((function(t,a){var d="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/product/").concat(t);e.$http.delete(d).then((function(t){t.data.success?a===e.allProductAry.length-1&&(e.alertMessage=t.data.message,e.alertStatus=!0,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.getProduct()):(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))}))},clearProductData:function(){this.$refs.UpLoadImg.$refs.addPrdForm.resetForm(),this.$refs.UpLoadImg.openModal()},getReditOneData:function(e){var t=e.target.id.split("_")[1];this.rediData.redi_index=t;var a=this.productData[this.rediData.redi_index];this.rediData.title=a.title,this.rediData.description=a.description,this.rediData.id=a.id,this.rediData.content=a.content,this.rediData.category=a.category,this.rediData.unit=a.unit,this.rediData.origin_price=a.origin_price,this.rediData.price=a.price,this.rediData.is_enabled=Number(a.is_enabled),this.rediData.imageUrl=a.imageUrl,this.rediData.imagesUrl={url1:a.imagesUrl[0],url2:a.imagesUrl[1],url3:a.imagesUrl[2],url4:a.imagesUrl[3],url5:a.imagesUrl[4]},this.$refs.ReditProductModal.openModal()},reditOneData:function(e){var t=this,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/product/").concat(this.rediData.id);this.$http.put(a,e).then((function(e){e.data.success&&(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getProduct(),t.$refs.ReditProductModal.closeModal())})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))}},watch:{productDataAll:function(){void 0!==this.productDataAll&&null!==this.productDataAll&&(this.allProductAry=Object.keys(this.productDataAll))}},created:function(){this.$http.defaults.headers.common.Authorization=this.token},mounted:function(){this.isLoading=!0,this.getProduct()}};gt.render=j;t["default"]=gt},c90a:function(e,t,a){"use strict";var d=a("7a23"),c={class:"modal fade",ref:"DeleteAll","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"DeleteAllLabel","aria-hidden":"true"},r={class:"modal-dialog"},o={class:"modal-content"},i=Object(d["createVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(d["createVNode"])("h5",{class:"modal-title text-center",id:"DeleteAllLabel"}," 確定清除全部? "),Object(d["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),l={class:"modal-footer"},n=Object(d["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 讓我想想 ",-1);function s(e,t,a,s,u,b){return Object(d["openBlock"])(),Object(d["createBlock"])("div",c,[Object(d["createVNode"])("div",r,[Object(d["createVNode"])("div",o,[i,Object(d["createVNode"])("div",l,[n,Object(d["createVNode"])("button",{id:"signOut",onClick:t[1]||(t[1]=function(){return b.send&&b.send.apply(b,arguments)}),type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"}," 非常低肯定! ")])])])],512)}var u=a("7c2b"),b=a.n(u),m={emits:["send"],data:function(){return{Modal:""}},methods:{send:function(){this.$emit("send")},openModal:function(){this.Modal.show()}},mounted:function(){this.Modal=new b.a(this.$refs.DeleteAll)}};m.render=s;t["a"]=m}}]);
//# sourceMappingURL=chunk-fb0ffa66.3c9513da.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cc4dca0"],{"566a":function(e,t,a){"use strict";a("989e")},"60bc":function(e,t,a){},"989e":function(e,t,a){},"98ab":function(e,t,a){"use strict";var c=a("7a23"),n=Object(c["withScopeId"])("data-v-0f73eafc");Object(c["pushScopeId"])("data-v-0f73eafc");var r={class:"row animate__animated animate__fadeInDown z-index-1100"},o={class:"col"},s=Object(c["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},[Object(c["createVNode"])("symbol",{id:"check-circle-fill",fill:"currentColor",viewBox:"0 0 16 16"},[Object(c["createVNode"])("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75\n         0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06\n          1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})]),Object(c["createVNode"])("symbol",{id:"exclamation-triangle-fill",fill:"currentColor",viewBox:"0 0 16 16"},[Object(c["createVNode"])("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98\n         1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0\n          .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905\n           0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})])],-1),l={key:0,class:"alert alert-primary d-flex align-items-center",role:"alert"},i=Object(c["createVNode"])("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Success:"},[Object(c["createVNode"])("use",{"xlink:href":"#check-circle-fill"})],-1),d={key:1,class:"alert alert-danger d-flex align-items-center",role:"alert"},u=Object(c["createVNode"])("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:"},[Object(c["createVNode"])("use",{"xlink:href":"#exclamation-triangle-fill"})],-1);Object(c["popScopeId"])();var b=n((function(e,t,a,n,b,p){return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])("div",o,[s,b.Is_succes?(Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[i,Object(c["createVNode"])("div",null,Object(c["toDisplayString"])(b.alertMessage),1)])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",d,[u,Object(c["createVNode"])("div",null,Object(c["toDisplayString"])(b.alertMessage),1)]))])])})),p={props:["message","status"],data:function(){return{alertMessage:"",Is_succes:!1}},mounted:function(){this.alertMessage=this.message,this.Is_succes=this.status}};a("566a");p.render=b,p.__scopeId="data-v-0f73eafc";t["a"]=p},b0c0:function(e,t,a){var c=a("83ab"),n=a("9bf2").f,r=Function.prototype,o=r.toString,s=/^\s*function ([^ (]*)/,l="name";c&&!(l in r)&&n(r,l,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},d31c:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),n=Object(c["withScopeId"])("data-v-798b6f5a");Object(c["pushScopeId"])("data-v-798b6f5a");var r={class:"container mt-3"},o={class:"card"},s=Object(c["createVNode"])("div",{class:"card-header fz-2"},"訂單資訊",-1),l={class:"card-body text-start"},i={key:0,class:"blockquote mb-0 p-3 fz-1"},d={class:"d-ssm-flex justify-content-between align-items-center"},u=Object(c["createVNode"])("p",null,"訂單編號:",-1),b={class:"d-flex justify-content-between align-items-center"},p=Object(c["createVNode"])("p",null,"訂單日期:",-1),f={class:"d-flex justify-content-between align-items-center"},j=Object(c["createVNode"])("p",null,"收件人:",-1),m={class:"d-flex justify-content-between align-items-center"},O=Object(c["createVNode"])("p",null,"電話:",-1),g={class:"d-flex justify-content-between align-items-center"},V=Object(c["createVNode"])("p",null,"信箱:",-1),N={class:"d-flex justify-content-between align-items-center"},h=Object(c["createVNode"])("p",null,"收件地址:",-1),y={class:"d-flex justify-content-between align-items-center"},v=Object(c["createVNode"])("p",null,"備註:",-1),S={class:"d-flex justify-content-between align-items-center"},w=Object(c["createVNode"])("p",null,"總計:",-1),x={class:"d-flex justify-content-between align-items-center"},k=Object(c["createVNode"])("p",null,"運費:",-1),D={class:"d-flex justify-content-between align-items-center"},M=Object(c["createVNode"])("p",null,"優惠折扣:",-1),_={class:"d-flex justify-content-between align-items-center"},C=Object(c["createVNode"])("p",null,"付款狀態:",-1),I=Object(c["createVNode"])("label",{for:"pay",class:"form-label"},"付款方式:",-1),L=Object(c["createVNode"])("option",{disabled:""},"選擇付款方式",-1),B=Object(c["createVNode"])("option",null,"WebATM",-1),z=Object(c["createVNode"])("option",null,"ATM",-1),T=Object(c["createVNode"])("option",null,"Credit",-1),$=Object(c["createVNode"])("option",null,"ApplePay",-1),A=Object(c["createVNode"])("option",null,"GooglePay",-1),F={class:"\n                  d-none d-md-flex\n                  flex-wrap\n                  justify-content-center justify-content-sm-between\n                "},P=Object(c["createVNode"])("span",null,"返回購物",-1),q=Object(c["createVNode"])("span",null,"確認付款",-1),J={class:"w-100 mobile-fixed d-md-none bg-white"},E={class:"d-flex justify-content-between row"},G=Object(c["createVNode"])("span",null,"確認付款",-1),U=Object(c["createVNode"])("hr",null,null,-1);Object(c["popScopeId"])();var W=n((function(e,t,a,W,H,K){var Q,R=Object(c["resolveComponent"])("Alert"),X=Object(c["resolveComponent"])("Field"),Y=Object(c["resolveComponent"])("ErrorMessage"),Z=Object(c["resolveComponent"])("Form"),ee=Object(c["resolveComponent"])("Loading");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("div",r,[Object(c["createVNode"])("div",null,[H.alertMessage?(Object(c["openBlock"])(),Object(c["createBlock"])(R,{key:0,class:"alert-position",message:H.alertMessage,status:H.alertStatus},null,8,["message","status"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("div",o,[s,Object(c["createVNode"])("div",l,[H.orderData?(Object(c["openBlock"])(),Object(c["createBlock"])("ul",i,[Object(c["createVNode"])("li",d,[u,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(H.orderData.order.id),1)]),Object(c["createVNode"])("li",b,[p,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.$toLocaleDate(H.orderData.order.create_at)),1)]),Object(c["createVNode"])("li",f,[j,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(H.orderData.order.user.name),1)]),Object(c["createVNode"])("li",m,[O,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(H.orderData.order.user.tel),1)]),Object(c["createVNode"])("li",g,[V,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(H.orderData.order.user.email),1)]),Object(c["createVNode"])("li",N,[h,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(H.orderData.order.user.address),1)]),Object(c["createVNode"])("li",y,[v,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(K.message),1)]),Object(c["createVNode"])("li",S,[w,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])("NT ".concat(e.$toComma(K.finally_total))),1)]),Object(c["createVNode"])("li",x,[k,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])("NT ".concat(e.$toComma(K.shipping))),1)]),Object(c["createVNode"])("li",D,[M,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])("NT ".concat(e.$toComma(K.couponPrice))),1)]),Object(c["createVNode"])("li",_,[C,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(null!==(Q=H.orderData)&&void 0!==Q&&Q.order.is_paid?"已付款":"未付款"),1)]),Object(c["createVNode"])("li",null,[Object(c["createVNode"])(Z,{ref:"creatForm",class:"row g-3",onSubmit:K.payment},{default:n((function(a){var r=a.errors;return[Object(c["createVNode"])("div",null,[I,Object(c["createVNode"])(X,{id:"pay",ref:"pay",name:"付款方式",as:"select",class:["form-control",{"is-invalid":r["付款方式"]}],rules:"required",modelValue:H.payment_method,"onUpdate:modelValue":t[1]||(t[1]=function(e){return H.payment_method=e})},{default:n((function(){return[L,B,z,T,$,A]})),_:2},1032,["class","modelValue"]),Object(c["createVNode"])(Y,{name:"付款方式",class:"invalid-feedback"})]),Object(c["createVNode"])("div",F,[Object(c["createVNode"])("button",{type:"button",class:"\n                    btn btn-outline-secondary\n                    py-2\n                    fz-2 fz-ssm-3\n                    col-10 col-sm-5\n                    d-flex\n                    justify-content-center\n                    align-items-center\n                  ",onClick:t[2]||(t[2]=function(t){return e.$router.push("/products")})},[P]),Object(c["createVNode"])("button",{ref:"formBtn",type:"submit",disabled:1==H.loadingStatue.sendOrder,class:"\n                    btn btn-primary\n                    py-2\n                    fz-2 fz-ssm-3\n                    col-10 col-sm-5\n                    d-flex\n                    justify-content-center\n                    align-items-center\n                  "},[Object(c["createVNode"])("span",{class:[{"d-none":1!==H.loadingStatue.sendOrder},"spinner-border spinner-border-sm"],role:"status","aria-hidden":"true"},null,2),q],8,["disabled"])])]})),_:1},8,["onSubmit"])])])):Object(c["createCommentVNode"])("",!0)])])]),Object(c["createVNode"])("div",J,[Object(c["createVNode"])("div",E,[Object(c["createVNode"])("button",{onClick:t[3]||(t[3]=function(t){return e.$refs.formBtn.click()}),type:"submit",disabled:1==H.loadingStatue.sendOrder,class:"\n          btn btn-primary\n          py-2\n          fz-2 fz-ssm-3\n          btn-right btn-primary-mobile\n          d-flex\n          justify-content-center\n          align-items-center\n        "},[Object(c["createVNode"])("span",{class:[{"d-none":1!==H.loadingStatue.sendOrder},"spinner-border spinner-border-sm"],role:"status","aria-hidden":"true"},null,2),G],8,["disabled"])])]),U,Object(c["createVNode"])(ee,{isVueLoading:H.isLoading},null,8,["isVueLoading"])],64)})),H=(a("99af"),a("ac1f"),a("1276"),a("98ab")),K=a("3a5e"),Q=a("e689"),R={components:{Alert:H["a"],Loading:K["a"]},data:function(){return{alertMessage:"",alertStatus:!1,isLoading:!1,orderData:"",loadingStatue:{},cartStep:3,payment_method:"",orderId:this.$route.params.orderId,products:"",messageValue:"",user:{}}},methods:{getOrderList:function(){var e=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/order/").concat(this.orderId)).then((function(t){t.data.success?(e.orderData=t.data,e.products=t.data.order.products,e.messageValue=t.data.order.message,e.chgCartStep(),e.isLoading=!1):(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.isLoading=!1)})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.isLoading=!1}))},chgCartStep:function(){Q["a"].emit("chg-cart-step",this.cartStep)},payment:function(){var e=this;this.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/pay/").concat(this.orderId)).then((function(t){t.data.success?(e.alertMessage=t.data.message,e.alertStatus=!0,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.loadingStatue.sendOrder="",e.orderId=t.data.orderId,e.$router.push("/finishpay")):(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.loadingStatue.sendOrder="")})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.loadingStatue.coupon=""}))}},computed:{message:function(){return this.messageValue.split("//splitValue//")[0]},finally_total:function(){return this.messageValue.split("//splitValue//")[2]},shipping:function(){return this.messageValue.split("//splitValue//")[4]},couponPrice:function(){return this.messageValue.split("//splitValue//")[6]}},created:function(){this.chgCartStep()},mounted:function(){this.getOrderList()}};a("e1da");R.render=W,R.__scopeId="data-v-798b6f5a";t["default"]=R},e1da:function(e,t,a){"use strict";a("60bc")},e689:function(e,t,a){"use strict";var c=function(e){return{all:e=e||new Map,on:function(t,a){var c=e.get(t);c?c.push(a):e.set(t,[a])},off:function(t,a){var c=e.get(t);c&&(a?c.splice(c.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var c=e.get(t);c&&c.slice().map((function(e){e(a)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,a)}))}}},n=c();t["a"]=n}}]);
//# sourceMappingURL=chunk-2cc4dca0.deea2903.js.map
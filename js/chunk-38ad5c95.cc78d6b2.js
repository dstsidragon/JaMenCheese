(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38ad5c95"],{"2fc7":function(e,t,a){"use strict";var c=a("7a23"),s={class:"modal fade",ref:"signOutUser",tabindex:"-1","aria-labelledby":"signOutUserLabel","aria-hidden":"true"},n={class:"modal-dialog"},o={class:"modal-content"},i=Object(c["createVNode"])("div",{class:"modal-header"},[Object(c["createVNode"])("h5",{class:"modal-title text-center",id:"signOutUserLabel"}," 確定登出? "),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),r={class:"modal-footer"},l=Object(c["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 讓我想想 ",-1);function u(e,t,a,u,d,b){return Object(c["openBlock"])(),Object(c["createBlock"])("div",s,[Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",o,[i,Object(c["createVNode"])("div",r,[l,Object(c["createVNode"])("button",{id:"signOut",onClick:t[1]||(t[1]=function(){return b.signOutAdmin&&b.signOutAdmin.apply(b,arguments)}),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"}," 非常低肯定! ")])])])],512)}var d=a("7c2b"),b=a.n(d),O=a("e689"),m={emits:["sign-out-admin"],data:function(){return{Modal:""}},methods:{signOutAdmin:function(){this.$emit("sign-out-admin"),O["a"].emit("login-out")},openModal:function(){this.Modal.show()}},mounted:function(){this.Modal=new b.a(this.$refs.signOutUser)}};m.render=u;t["a"]=m},"331e":function(e,t,a){e.exports=a.p+"img/logo4.d43d1d54.svg"},"570b":function(e,t,a){e.exports=a.p+"img/admin.f6c04597.png"},7277:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),s=a("331e"),n=a.n(s),o=a("570b"),i=a.n(o),r=Object(c["withScopeId"])("data-v-0867d7d6");Object(c["pushScopeId"])("data-v-0867d7d6");var l={class:"navbar pt-4 pb-4 d-none bg-yellow-lighten"},u={class:"navbar-content"},d={class:"mb-4 pl-4"},b=Object(c["createVNode"])("img",{src:n.a,alt:"logo",width:"100",height:"100"},null,-1),O={class:"list-group nav-link flex-row justify-content-between"},m={class:"mb-2"},f=Object(c["createVNode"])("span",{class:"material-icons"}," assessment ",-1),p={class:"mb-2"},j=Object(c["createVNode"])("span",{class:"material-icons"}," store ",-1),g={class:"mb-2"},N=Object(c["createVNode"])("span",{class:"material-icons"}," receipt ",-1),h={class:"mb-2"},V=Object(c["createVNode"])("span",{class:"material-icons"}," payment ",-1),v={class:"mb-2"},k=Object(c["createVNode"])("span",{class:"material-icons"}," logout ",-1),S={class:"mb-2"},M=Object(c["createVNode"])("span",{class:"material-icons"}," home ",-1),y={class:"sidebar-footer d-flex justify-content-center"},x=Object(c["createVNode"])("img",{class:"sidebar-footer-img",src:i.a,alt:"user"},null,-1),$={class:"ms-2 mb-0 text-start fz-0"},w={class:"d-flex"},C={class:"\n        sidebar\n        bg-yellow-lighten\n        d-flex\n        flex-column\n        justify-content-between\n      "},T={class:"mb-4 pl-4"},_=Object(c["createTextVNode"])("logo"),B={class:"nav flex-column nav-link"},U=Object(c["createTextVNode"])("後台首頁"),A=Object(c["createTextVNode"])("商品管理"),L=Object(c["createTextVNode"])("優惠券管理"),D=Object(c["createTextVNode"])("訂單管理"),I=Object(c["createTextVNode"])("登入"),z=Object(c["createTextVNode"])("返回前台"),E={class:"d-flex justify-content-center align-items-center"},J=Object(c["createVNode"])("img",{class:"sidebar-footer-img",src:i.a,alt:"user"},null,-1),R={class:"ms-2 mb-0 text-start fz-0"},F={class:"container Main"};Object(c["popScopeId"])();var G=r((function(e,t,a,s,n,o){var i=Object(c["resolveComponent"])("RouterLink"),G=Object(c["resolveComponent"])("RouterView"),q=Object(c["resolveComponent"])("Alert"),H=Object(c["resolveComponent"])("LoginOut");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("div",l,[Object(c["createVNode"])("div",u,[Object(c["createVNode"])("h1",d,[Object(c["createVNode"])(i,{class:"d-block",to:"/admin"},{default:r((function(){return[b]})),_:1})]),Object(c["createVNode"])("ul",O,[Object(c["createVNode"])("li",m,[Object(c["createVNode"])(i,{class:"nav-link active",to:"/admin"},{default:r((function(){return[f]})),_:1})]),Object(c["createVNode"])("li",p,[Object(c["createVNode"])(i,{class:"nav-link active",to:"/productsControl"},{default:r((function(){return[j]})),_:1})]),Object(c["createVNode"])("li",g,[Object(c["createVNode"])(i,{class:"nav-link active",to:"/coupons"},{default:r((function(){return[N]})),_:1})]),Object(c["createVNode"])("li",h,[Object(c["createVNode"])(i,{class:"nav-link active",to:"/ordersList"},{default:r((function(){return[V]})),_:1})]),Object(c["createVNode"])("li",v,[n.loginStatus?(Object(c["openBlock"])(),Object(c["createBlock"])("a",{key:0,href:"#",class:"nav-link",type:"button",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(){return o.openiSgnOutUserModal&&o.openiSgnOutUserModal.apply(o,arguments)}),["prevent"]))},[k])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("li",S,[Object(c["createVNode"])(i,{class:"nav-link active",to:"/"},{default:r((function(){return[M]})),_:1})])])]),Object(c["createVNode"])("div",y,[x,Object(c["createVNode"])("ul",$,[Object(c["createVNode"])("li",null,Object(c["toDisplayString"])(n.userName),1),Object(c["createVNode"])("li",null,Object(c["toDisplayString"])(n.userEmail),1)])])]),Object(c["createVNode"])("div",w,[Object(c["createVNode"])("div",C,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("h1",T,[Object(c["createVNode"])(i,{class:"logo d-block",to:"/admin"},{default:r((function(){return[_]})),_:1})]),Object(c["createVNode"])("div",B,[Object(c["createVNode"])(i,{class:"nav-link active",to:"/admin"},{default:r((function(){return[U]})),_:1}),Object(c["createVNode"])(i,{class:"nav-link",to:"/productsControl"},{default:r((function(){return[A]})),_:1}),Object(c["createVNode"])(i,{class:"nav-link",to:"/coupons"},{default:r((function(){return[L]})),_:1}),Object(c["createVNode"])(i,{class:"nav-link",to:"/ordersList"},{default:r((function(){return[D]})),_:1}),n.loginStatus?(Object(c["openBlock"])(),Object(c["createBlock"])("a",{key:0,class:"nav-link",type:"button",href:"#",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(){return o.openiSgnOutUserModal&&o.openiSgnOutUserModal.apply(o,arguments)}),["prevent"]))},"登出")):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:1,class:"nav-link",to:"/Login"},{default:r((function(){return[I]})),_:1})),Object(c["createVNode"])(i,{class:"nav-link",to:"/"},{default:r((function(){return[z]})),_:1})])]),Object(c["createVNode"])("div",E,[J,Object(c["createVNode"])("ul",R,[Object(c["createVNode"])("li",null,Object(c["toDisplayString"])(n.userName),1),Object(c["createVNode"])("li",null,Object(c["toDisplayString"])(n.userEmail),1)])])]),Object(c["createVNode"])("div",F,[n.checkSuccess?(Object(c["openBlock"])(),Object(c["createBlock"])(G,{key:0})):Object(c["createCommentVNode"])("",!0)])]),n.alertMessage?(Object(c["openBlock"])(),Object(c["createBlock"])(q,{key:0,class:"alert-position",message:n.alertMessage,status:n.alertStatus},null,8,["message","status"])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(H,{ref:"signOutUserModal",onSignOutAdmin:o.signOutAdmin},null,8,["onSignOutAdmin"])],64)})),q=(a("ac1f"),a("1276"),a("5319"),a("98ab")),H=a("2fc7"),K={components:{Alert:q["a"],LoginOut:H["a"]},data:function(){return{alertMessage:"",alertStatus:!1,userName:"訪客",userEmail:"@".concat(document.cookie.replace(/(?:(?:^|.*;\s*)email\s*=\s*([^;]*).*$)|^.*$/,"$1").split("@")[1]),loginStatus:!1,token:document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),checkSuccess:!1}},methods:{signOutAdmin:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/logout");this.$http.post(t).then((function(t){t.data.success?(e.alertMessage=t.data.message,e.alertStatus=!0,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.deleteAllCookies(),e.$router.push("/Login")):(e.alertMessage="未知的錯誤!",e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.$router.push("/Login"))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))},openiSgnOutUserModal:function(){this.$refs.signOutUserModal.openModal()},deleteAllCookies:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t+=1){var a=e[t],c=a.indexOf("="),s=c>-1?a.substr(0,c):a;document.cookie="".concat(s,"=;expires=Thu, 01 Jan 1970 00:00:00 GMT")}},chkUserName:function(){""!==document.cookie.replace(/(?:(?:^|.*;\s*)username\s*=\s*([^;]*).*$)|^.*$/,"$1")?(this.userName=document.cookie.replace(/(?:(?:^|.*;\s*)username\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.loginStatus=!0):(this.userName="訪客",this.loginStatus=!1)},chkLogin:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(t).then((function(t){!0===t.data.success?e.checkSuccess=!0:(e.alertMessage="您尚未登入!",e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))}},created:function(){this.$http.defaults.headers.common.Authorization=this.token,this.chkUserName(),this.chkLogin()}};a("cc25");K.render=G,K.__scopeId="data-v-0867d7d6";t["default"]=K},7683:function(e,t,a){},cc25:function(e,t,a){"use strict";a("7683")},e689:function(e,t,a){"use strict";var c=function(e){return{all:e=e||new Map,on:function(t,a){var c=e.get(t);c?c.push(a):e.set(t,[a])},off:function(t,a){var c=e.get(t);c&&(a?c.splice(c.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var c=e.get(t);c&&c.slice().map((function(e){e(a)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,a)}))}}},s=c();t["a"]=s}}]);
//# sourceMappingURL=chunk-38ad5c95.cc78d6b2.js.map
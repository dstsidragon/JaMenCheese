(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cd3cc2a"],{"0161":function(e,t,c){"use strict";c("6a49")},2532:function(e,t,c){"use strict";var r=c("23e7"),o=c("5a34"),a=c("1d80"),i=c("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(a(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,c){var r=c("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6a49":function(e,t,c){},a434:function(e,t,c){"use strict";var r=c("23e7"),o=c("23cb"),a=c("a691"),i=c("50c4"),n=c("7b0b"),s=c("65f0"),d=c("8418"),l=c("1dde"),u=l("splice"),f=Math.max,p=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var c,r,l,u,b,m,g=n(this),O=i(g.length),j=o(e,O),y=arguments.length;if(0===y?c=r=0:1===y?(c=0,r=O-j):(c=y-2,r=p(f(a(t),0),O-j)),O+c-r>h)throw TypeError(v);for(l=s(g,r),u=0;u<r;u++)b=j+u,b in g&&d(l,u,g[b]);if(l.length=r,c<r){for(u=j;u<O-r;u++)b=u+r,m=u+c,b in g?g[m]=g[b]:delete g[m];for(u=O;u>O-r+c;u--)delete g[u-1]}else if(c>r)for(u=O-r;u>j;u--)b=u+r-1,m=u+c-1,b in g?g[m]=g[b]:delete g[m];for(u=0;u<c;u++)g[u+j]=arguments[u+2];return g.length=O-r+c,l}})},ab13:function(e,t,c){var r=c("b622"),o=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(c){try{return t[o]=!1,"/./"[e](t)}catch(r){}}return!1}},d340:function(e,t,c){"use strict";c.r(t);c("caad"),c("2532");var r=c("7a23"),o=Object(r["withScopeId"])("data-v-4d840e93");Object(r["pushScopeId"])("data-v-4d840e93");var a=Object(r["createVNode"])("header",{class:"banner mt-navbar d-flex justify-content-center align-items-center"},[Object(r["createVNode"])("div",{class:"text-white bg-img-transparent rounded p-2"},[Object(r["createVNode"])("h2",{class:"text-center fz-2 fz-md-4"},"我的收藏"),Object(r["createVNode"])("p",{class:"fz-0 fz-md-1"},"別人貪婪的時侯我恐懼，別人恐懼的時候我貪婪!")])],-1),i={class:"container mt-5"},n={key:0},s=Object(r["createVNode"])("p",{class:"text-center text-primary fz-2"},"目前沒有商品加入收藏!",-1),d={class:"row row-cols-1 row-cols-smm-2 row-cols-md-3 g-4"},l={class:"card h-100"},u={class:"favorite"},f={key:0,class:"material-icons text-danger"},p={key:1,class:"material-icons"},h={class:"card-title bg-primary text-white p-1"},v={class:"d-flex justify-content-around align-items-center"},b={class:"card-text border-right"},m={class:"card-text text-danger fz-2"};Object(r["popScopeId"])();var g=o((function(e,t,c,o,g,O){return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[a,Object(r["createVNode"])("div",i,[0===g.myFavoriteProducts.length?(Object(r["openBlock"])(),Object(r["createBlock"])("div",n,[s])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",d,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(g.myFavoriteProducts,(function(t,c){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"col cursor-pointer",key:"prd_".concat(c)},[Object(r["createVNode"])("div",l,[Object(r["createVNode"])("div",{class:"overflow-hidden",onClick:Object(r["withModifiers"])((function(c){return e.$router.push("/product/".concat(t.id))}),["prevent"])},[Object(r["createVNode"])("img",{src:t.imageUrl,class:"card-img-top prd-card-img object-fit img--scale",alt:t.title},null,8,["src","alt"])],8,["onClick"]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])("a",{class:"text-danger",href:"#",onClick:Object(r["withModifiers"])((function(e){return O.addFavorite(t.id)}),["prevent"])},[g.myFavorite.includes(t.id)?(Object(r["openBlock"])(),Object(r["createBlock"])("span",f," favorite ")):(Object(r["openBlock"])(),Object(r["createBlock"])("span",p," favorite_border "))],8,["onClick"])]),Object(r["createVNode"])("div",{class:"card-body p-0",onClick:Object(r["withModifiers"])((function(c){return e.viewOneProduct(t)}),["prevent"])},[Object(r["createVNode"])("h5",h,Object(r["toDisplayString"])(t.title),1),Object(r["createVNode"])("span",v,[Object(r["createVNode"])("p",b,[Object(r["createVNode"])("del",null,Object(r["toDisplayString"])("$ ".concat(t.origin_price," 元")),1)]),Object(r["createVNode"])("p",m,"$"+Object(r["toDisplayString"])(t.price)+"元",1)])],8,["onClick"])])])})),128))])])],64)})),O=(c("a434"),c("99af"),c("159b"),c("e689")),j={data:function(){return{myFavorite:this.getLoCalStorage("myFavorite")||[],products:"",myFavoriteProducts:"",err:""}},computed:{},watch:{myFavorite:function(){this.myFavoriteProduct()}},methods:{addFavorite:function(e){this.myFavorite.includes(e)?this.myFavorite.splice(this.myFavorite.indexOf(e),1):this.myFavorite.push(e),this.setLoCalStorage("myFavorite",this.myFavorite),O["a"].emit("refresh-favorites"),this.getProducts()},setLoCalStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},getLoCalStorage:function(e){return JSON.parse(localStorage.getItem(e))},getProducts:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/products/all")).then((function(t){t.data.success&&(e.products=t.data.products,e.myFavoriteProduct())})).catch((function(t){e.err=t}))},myFavoriteProduct:function(){var e=this,t=[];this.myFavorite.forEach((function(c){e.products.forEach((function(e){e.id===c&&t.push(e)}))})),this.myFavoriteProducts=t}},created:function(){this.getProducts()}};c("0161");j.render=g,j.__scopeId="data-v-4d840e93";t["default"]=j},e689:function(e,t,c){"use strict";var r=function(e){return{all:e=e||new Map,on:function(t,c){var r=e.get(t);r?r.push(c):e.set(t,[c])},off:function(t,c){var r=e.get(t);r&&(c?r.splice(r.indexOf(c)>>>0,1):e.set(t,[]))},emit:function(t,c){var r=e.get(t);r&&r.slice().map((function(e){e(c)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,c)}))}}},o=r();t["a"]=o}}]);
//# sourceMappingURL=chunk-0cd3cc2a.0659ab87.js.map